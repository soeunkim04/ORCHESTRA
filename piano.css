/* piano.css (최종 수정) */

body {
        background-color: rgb(255, 255, 255);
        overflow-x: hidden;
        position: relative; 
        margin: 0;
        min-height: 100vh;
    }
    
    #piano-container {
        position: relative;
        width: 100%;
    }
    
    .stacked-piano-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: auto;
        display: block;
        margin: 0;
        padding: 0;
    }
    
    #black-image {
        z-index: 30;
    }
    
    #white-image {
        z-index: 24;
    }
    
    /* 1그룹 텍스트 스타일 */
    #group1-text {
        position: fixed; 
        top: 17vw;      
        left: 50%;      
        transform: translateX(-50%); 
        width: 80%;     
        text-align: center; 
        font-size: 1vw; 
        font-weight: bold;
        color: #000000; 
        z-index: 20; 
        background-color: rgba(255, 255, 255, 0.7); 
        padding: 10px;
        box-sizing: border-box; 
    }
    
    #group2-text-container {
        position: fixed; 
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: 20; 
        
        opacity: 0; 
        transition: opacity 1s ease-out; 
        
        pointer-events: none; 
    }
    
    /* 2그룹 텍스트의 개별 글자 스타일 (움직이는 요소) */
    .moving-char {
        position: absolute; 
        transition: transform 5s ease-in-out, opacity 1s ease-out;
        font-size: 0.8vw; 
        color: #555; 
        opacity: 1; 
        white-space: pre; /* 흩어질 때 간격 유지를 위함 */
        z-index: 18; 
        user-select: none; 
        pointer-events: none; 
    }
    
    /* ⭐ [추가]: 공백 span 스타일 - 기본 상태에서는 보이지 않게 ⭐ */
    .space-holder {
        position: absolute; /* 움직이는 글자와 동일한 position */
        opacity: 0; /* 기본적으로는 투명 */
        white-space: pre; 
        user-select: none;
        pointer-events: none;
    }
    
    /* ⭐ [추가]: <br> 태그 스타일 - 기본적으로는 줄 바꿈을 숨김 ⭐ */
    .break-line {
        display: none; 
    }

    /* ⭐ [추가]: 되돌아가기 버튼 컨테이너 스타일 ⭐ */
#back-button-container {
        position: fixed;
        bottom: 20px; /* 화면 맨 아래에서 20px 위 */
        left: 50%;
        transform: translateX(-50%); /* 가로 중앙 정렬 */
        z-index: 100; /* 모든 요소 위에 오도록 */
        opacity: 0; /* 초기에는 숨김 */
        transition: opacity 0.5s ease-in-out;
        cursor: pointer;
        pointer-events: none; /* 클릭 비활성화 */
    }
    
    #back-button-container.is-visible {
        opacity: 1; /* 정렬 시 보이게 */
        pointer-events: auto; /* 클릭 활성화 */
    }
    
    #back-button-image {
        width: 40px; /* 적절한 크기로 조절하세요 */
        height: auto;
        display: block;
    }
    
    
    /* ----------------------------------------------------------- */
    /* 정렬 상태 스타일 (.is-aligned) */
    /* ----------------------------------------------------------- */
    
    #group2-text-container.is-aligned {
        width: 80vw; 
        height: auto; 
        left: 50%;
        transform: translateX(-50%); 
        white-space: normal;
        top: 25vw; 
        text-align: center; 
        position: absolute; 
        z-index: 35; 
        background-color: rgba(255, 255, 255, 0.9); /* 가독성 위해 배경 추가 */
        padding: 20px;
        line-height: 1.8;
    }
    
    /* ⭐ [수정]: 정렬 시 모든 텍스트 요소가 텍스트 흐름을 따르도록 ⭐ */
    #group2-text-container.is-aligned .moving-char,
    #group2-text-container.is-aligned .space-holder { 
        position: static; 
        transform: none !important; 
        display: inline;
        font-size: 1vw; 
        color: #000000;
        opacity: 1; 
        transition: none; 
        white-space: pre-wrap; /* 공백 처리 */
    }
    
    /* ⭐ [추가]: 정렬 시 <br> 태그 보이게 (문장별 단락) ⭐ */
    #group2-text-container.is-aligned .break-line {
        display: block; 
        margin: 10px 0 5px 0; /* 단락 간격 추가 */
        content: '';
        height: 0;
    }